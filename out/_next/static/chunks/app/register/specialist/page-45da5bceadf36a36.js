(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8],{3715:function(e,r,s){"use strict";s.d(r,{Z:function(){return a}});var t=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t.Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7009:function(e,r,s){Promise.resolve().then(s.bind(s,8421))},8421:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return v}});var t=s(7437),a=s(2265),n=s(4033),i=s(7430),o=s(8110),l=s(1865),c=s(4578),d=s(3067),u=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,u.Z)("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);var f=s(3715),x=s(3023),p=s(1315),h=s(1908),j=s(2621),w=s(6763),y=s(9311);let N=c.Ry({name:c.Z_().min(2,"Name must be at least 2 characters"),email:c.Z_().email("Please enter a valid email address"),password:c.Z_().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:c.Z_(),businessName:c.Z_().min(2,"Business name must be at least 2 characters")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function v(){let e=(0,n.useRouter)(),{toast:r}=(0,j.pm)(),[s,c]=(0,a.useState)(!1),u=(0,l.cI)({resolver:(0,o.F)(N),defaultValues:{name:"",email:"",password:"",confirmPassword:"",businessName:""}}),v=async s=>{c(!0);try{y.f.info("Starting specialist registration process");let{data:t,error:a}=await w.OQ.auth.signUp({email:s.email,password:s.password,options:{data:{name:s.name,role:"specialist"}}});if(a)throw a;if(!t.user)throw Error("Failed to create account");y.f.info("User account created:",t.user.id);let{error:n}=await w.OQ.from("specialists").insert({auth_user_id:t.user.id,name:s.name,email:s.email,business_name:s.businessName,active:!0,verification_status:"pending"});if(n)throw n;y.f.info("Registration completed successfully"),r({title:"Account created",description:"Your specialist account has been created successfully."}),e.push("/dashboard")}catch(e){y.f.error("Registration error:",e),r({variant:"destructive",title:"Error",description:e instanceof Error?e.message:"Failed to create account"})}finally{c(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsx)("div",{className:"max-w-md mx-auto pt-16 px-4",children:(0,t.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full overflow-hidden rounded-xl shadow-xl p-6 bg-card",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)(x.z,{variant:"ghost",onClick:()=>e.push("/"),className:"inline-flex items-center text-sm mb-6 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"Back to Home"]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mb-4",children:(0,t.jsx)(m,{className:"h-6 w-6 text-primary"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Create Your Specialist Account"}),(0,t.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Join our network of sleep specialists"})]})]}),(0,t.jsx)(p.l0,{...u,children:(0,t.jsxs)("form",{onSubmit:u.handleSubmit(v),className:"space-y-6",children:[(0,t.jsx)(p.Wi,{control:u.control,name:"name",render:e=>{let{field:r}=e;return(0,t.jsxs)(p.xJ,{children:[(0,t.jsx)(p.lX,{children:"Full Name"}),(0,t.jsx)(p.NI,{children:(0,t.jsx)(h.I,{placeholder:"Enter your full name",...r})}),(0,t.jsx)(p.pf,{children:"Your legal name as it appears on your credentials"}),(0,t.jsx)(p.zG,{})]})}}),(0,t.jsx)(p.Wi,{control:u.control,name:"businessName",render:e=>{let{field:r}=e;return(0,t.jsxs)(p.xJ,{children:[(0,t.jsx)(p.lX,{children:"Business Name"}),(0,t.jsx)(p.NI,{children:(0,t.jsx)(h.I,{placeholder:"Enter your business name",...r})}),(0,t.jsx)(p.pf,{children:"The name of your sleep consulting practice"}),(0,t.jsx)(p.zG,{})]})}}),(0,t.jsx)(p.Wi,{control:u.control,name:"email",render:e=>{let{field:r}=e;return(0,t.jsxs)(p.xJ,{children:[(0,t.jsx)(p.lX,{children:"Email"}),(0,t.jsx)(p.NI,{children:(0,t.jsx)(h.I,{type:"email",placeholder:"Enter your email",...r})}),(0,t.jsx)(p.pf,{children:"Your professional email address"}),(0,t.jsx)(p.zG,{})]})}}),(0,t.jsx)(p.Wi,{control:u.control,name:"password",render:e=>{let{field:r}=e;return(0,t.jsxs)(p.xJ,{children:[(0,t.jsx)(p.lX,{children:"Password"}),(0,t.jsx)(p.NI,{children:(0,t.jsx)(h.I,{type:"password",placeholder:"Create a password",...r})}),(0,t.jsx)(p.pf,{children:"Must be at least 8 characters with uppercase, lowercase, and numbers"}),(0,t.jsx)(p.zG,{})]})}}),(0,t.jsx)(p.Wi,{control:u.control,name:"confirmPassword",render:e=>{let{field:r}=e;return(0,t.jsxs)(p.xJ,{children:[(0,t.jsx)(p.lX,{children:"Confirm Password"}),(0,t.jsx)(p.NI,{children:(0,t.jsx)(h.I,{type:"password",placeholder:"Confirm your password",...r})}),(0,t.jsx)(p.zG,{})]})}}),(0,t.jsx)(x.z,{type:"submit",className:"w-full",disabled:s,children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Specialist Account"})]})}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",(0,t.jsx)(x.z,{variant:"link",onClick:()=>e.push("/login/specialist"),className:"font-medium text-primary hover:underline p-0",children:"Sign in here"})]})})]})})})}},1315:function(e,r,s){"use strict";s.d(r,{NI:function(){return h},Wi:function(){return u},l0:function(){return c},lX:function(){return p},pf:function(){return j},xJ:function(){return x},zG:function(){return w}});var t=s(7437),a=s(2265),n=s(7256),i=s(1865),o=s(9311),l=s(6672);let c=i.RV,d=a.createContext({}),u=e=>{let{...r}=e;return(0,t.jsx)(d.Provider,{value:{name:r.name},children:(0,t.jsx)(i.Qr,{...r})})},m=()=>{let e=a.useContext(d),r=a.useContext(f),{getFieldState:s,formState:t}=(0,i.Gc)(),n=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=r;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...n}},f=a.createContext({}),x=a.forwardRef((e,r)=>{let{className:s,...n}=e,i=a.useId();return(0,t.jsx)(f.Provider,{value:{id:i},children:(0,t.jsx)("div",{ref:r,className:(0,o.cn)("space-y-2",s),...n})})});x.displayName="FormItem";let p=a.forwardRef((e,r)=>{let{className:s,...a}=e,{error:n,formItemId:i}=m();return(0,t.jsx)(l._,{ref:r,className:(0,o.cn)(n&&"text-destructive",s),htmlFor:i,...a})});p.displayName="FormLabel";let h=a.forwardRef((e,r)=>{let{...s}=e,{error:a,formItemId:i,formDescriptionId:o,formMessageId:l}=m();return(0,t.jsx)(n.g7,{ref:r,id:i,"aria-describedby":a?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!a,...s})});h.displayName="FormControl";let j=a.forwardRef((e,r)=>{let{className:s,...a}=e,{formDescriptionId:n}=m();return(0,t.jsx)("p",{ref:r,id:n,className:(0,o.cn)("text-sm text-muted-foreground",s),...a})});j.displayName="FormDescription";let w=a.forwardRef((e,r)=>{let{className:s,children:a,...n}=e,{error:i,formMessageId:l}=m(),c=i?String(null==i?void 0:i.message):a;return c?(0,t.jsx)("p",{ref:r,id:l,className:(0,o.cn)("text-sm font-medium text-destructive",s),...n,children:c}):null});w.displayName="FormMessage"},6672:function(e,r,s){"use strict";s.d(r,{_:function(){return c}});var t=s(7437),a=s(2265),n=s(6743),i=s(6061),o=s(9311);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(n.f,{ref:r,className:(0,o.cn)(l(),s),...a})});c.displayName=n.f.displayName},9381:function(e,r,s){"use strict";s.d(r,{WV:function(){return o},jH:function(){return l}});var t=s(2265),a=s(4887),n=s(7256),i=s(7437),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let s=t.forwardRef((e,s)=>{let{asChild:t,...a}=e,o=t?n.g7:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...a,ref:s})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function l(e,r){e&&a.flushSync(()=>e.dispatchEvent(r))}}},function(e){e.O(0,[579,892,233,834,971,864,744],function(){return e(e.s=7009)}),_N_E=e.O()}]);