(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8],{3067:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});var s=t(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3715:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});var s=t(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s.Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7009:function(e,r,t){Promise.resolve().then(t.bind(t,8421))},8421:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return b}});var s=t(7437),n=t(2265),a=t(4033),o=t(7430),i=t(8110),c=t(1865),l=t(4578),d=t(3067),u=t(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,u.Z)("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);var f=t(3715),p=t(3023),h=t(459),x=t(1908),g=t(2621),w=t(6763),y=t(9311);let v=l.Ry({name:l.Z_().min(2,"Name must be at least 2 characters"),email:l.Z_().email("Please enter a valid email address"),password:l.Z_().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:l.Z_(),businessName:l.Z_().min(2,"Business name must be at least 2 characters")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function b(){let e=(0,a.useRouter)(),{toast:r}=(0,g.pm)(),[t,l]=(0,n.useState)(!1),u=(0,c.cI)({resolver:(0,i.F)(v),defaultValues:{name:"",email:"",password:"",confirmPassword:"",businessName:""}}),b=async t=>{l(!0);try{y.f.info("Starting specialist registration process");let{data:s,error:n}=await w.OQ.auth.signUp({email:t.email,password:t.password,options:{data:{name:t.name,role:"specialist"}}});if(n)throw n;if(!s.user)throw Error("Failed to create account");y.f.info("User account created:",s.user.id);let{error:a}=await w.OQ.from("specialists").insert({auth_user_id:s.user.id,name:t.name,email:t.email,business_name:t.businessName,active:!0,verification_status:"pending"});if(a)throw a;y.f.info("Registration completed successfully"),r({title:"Account created",description:"Your specialist account has been created successfully."}),e.push("/dashboard")}catch(e){y.f.error("Registration error:",e),r({variant:"destructive",title:"Error",description:e instanceof Error?e.message:"Failed to create account"})}finally{l(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-background",children:(0,s.jsx)("div",{className:"max-w-md mx-auto pt-16 px-4",children:(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full overflow-hidden rounded-xl shadow-xl p-6 bg-card",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.push("/"),className:"inline-flex items-center text-sm mb-6 text-muted-foreground hover:text-foreground",children:[(0,s.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"Back to Home"]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mb-4",children:(0,s.jsx)(m,{className:"h-6 w-6 text-primary"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Create Your Specialist Account"}),(0,s.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Join our network of sleep specialists"})]})]}),(0,s.jsx)(h.l0,{...u,children:(0,s.jsxs)("form",{onSubmit:u.handleSubmit(b),className:"space-y-6",children:[(0,s.jsx)(h.Wi,{control:u.control,name:"name",render:e=>{let{field:r}=e;return(0,s.jsxs)(h.xJ,{children:[(0,s.jsx)(h.lX,{children:"Full Name"}),(0,s.jsx)(h.NI,{children:(0,s.jsx)(x.I,{placeholder:"Enter your full name",...r})}),(0,s.jsx)(h.pf,{children:"Your legal name as it appears on your credentials"}),(0,s.jsx)(h.zG,{})]})}}),(0,s.jsx)(h.Wi,{control:u.control,name:"businessName",render:e=>{let{field:r}=e;return(0,s.jsxs)(h.xJ,{children:[(0,s.jsx)(h.lX,{children:"Business Name"}),(0,s.jsx)(h.NI,{children:(0,s.jsx)(x.I,{placeholder:"Enter your business name",...r})}),(0,s.jsx)(h.pf,{children:"The name of your sleep consulting practice"}),(0,s.jsx)(h.zG,{})]})}}),(0,s.jsx)(h.Wi,{control:u.control,name:"email",render:e=>{let{field:r}=e;return(0,s.jsxs)(h.xJ,{children:[(0,s.jsx)(h.lX,{children:"Email"}),(0,s.jsx)(h.NI,{children:(0,s.jsx)(x.I,{type:"email",placeholder:"Enter your email",...r})}),(0,s.jsx)(h.pf,{children:"Your professional email address"}),(0,s.jsx)(h.zG,{})]})}}),(0,s.jsx)(h.Wi,{control:u.control,name:"password",render:e=>{let{field:r}=e;return(0,s.jsxs)(h.xJ,{children:[(0,s.jsx)(h.lX,{children:"Password"}),(0,s.jsx)(h.NI,{children:(0,s.jsx)(x.I,{type:"password",placeholder:"Create a password",...r})}),(0,s.jsx)(h.pf,{children:"Must be at least 8 characters with uppercase, lowercase, and numbers"}),(0,s.jsx)(h.zG,{})]})}}),(0,s.jsx)(h.Wi,{control:u.control,name:"confirmPassword",render:e=>{let{field:r}=e;return(0,s.jsxs)(h.xJ,{children:[(0,s.jsx)(h.lX,{children:"Confirm Password"}),(0,s.jsx)(h.NI,{children:(0,s.jsx)(x.I,{type:"password",placeholder:"Confirm your password",...r})}),(0,s.jsx)(h.zG,{})]})}}),(0,s.jsx)(p.z,{type:"submit",className:"w-full",disabled:t,children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Specialist Account"})]})}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",(0,s.jsx)(p.z,{variant:"link",onClick:()=>e.push("/login/specialist"),className:"font-medium text-primary hover:underline p-0",children:"Sign in here"})]})})]})})})}},3023:function(e,r,t){"use strict";t.d(r,{d:function(){return c},z:function(){return l}});var s=t(7437),n=t(2265),a=t(7256),o=t(9213),i=t(9311);let c=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,r)=>{let{className:t,variant:n,size:o,asChild:l=!1,...d}=e,u=l?a.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(c({variant:n,size:o,className:t})),ref:r,...d})});l.displayName="Button"},459:function(e,r,t){"use strict";t.d(r,{l0:function(){return m},NI:function(){return y},pf:function(){return v},Wi:function(){return p},xJ:function(){return g},lX:function(){return w},zG:function(){return b}});var s=t(7437),n=t(2265),a=t(7256),o=t(1865),i=t(9311),c=t(6743),l=t(9213);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)(c.f,{ref:r,className:(0,i.cn)(d(),t),...n})});u.displayName=c.f.displayName;let m=o.RV,f=n.createContext({}),p=e=>{let{...r}=e;return(0,s.jsx)(f.Provider,{value:{name:r.name},children:(0,s.jsx)(o.Qr,{...r})})},h=()=>{let e=n.useContext(f),r=n.useContext(x),{getFieldState:t,formState:s}=(0,o.Gc)(),a=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...a}},x=n.createContext({}),g=n.forwardRef((e,r)=>{let{className:t,...a}=e,o=n.useId();return(0,s.jsx)(x.Provider,{value:{id:o},children:(0,s.jsx)("div",{ref:r,className:(0,i.cn)("space-y-2",t),...a})})});g.displayName="FormItem";let w=n.forwardRef((e,r)=>{let{className:t,...n}=e,{error:a,formItemId:o}=h();return(0,s.jsx)(u,{ref:r,className:(0,i.cn)(a&&"text-destructive",t),htmlFor:o,...n})});w.displayName="FormLabel";let y=n.forwardRef((e,r)=>{let{...t}=e,{error:n,formItemId:o,formDescriptionId:i,formMessageId:c}=h();return(0,s.jsx)(a.g7,{ref:r,id:o,"aria-describedby":n?"".concat(i," ").concat(c):"".concat(i),"aria-invalid":!!n,...t})});y.displayName="FormControl";let v=n.forwardRef((e,r)=>{let{className:t,...n}=e,{formDescriptionId:a}=h();return(0,s.jsx)("p",{ref:r,id:a,className:(0,i.cn)("text-sm text-muted-foreground",t),...n})});v.displayName="FormDescription";let b=n.forwardRef((e,r)=>{let{className:t,children:n,...a}=e,{error:o,formMessageId:c}=h(),l=o?String(null==o?void 0:o.message):n;return l?(0,s.jsx)("p",{ref:r,id:c,className:(0,i.cn)("text-sm font-medium text-destructive",t),...a,children:l}):null});b.displayName="FormMessage"},1908:function(e,r,t){"use strict";t.d(r,{I:function(){return o}});var s=t(7437),n=t(2265),a=t(9311);let o=n.forwardRef((e,r)=>{let{className:t,type:n,...o}=e;return(0,s.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...o})});o.displayName="Input"},2621:function(e,r,t){"use strict";t.d(r,{pm:function(){return m}});var s=t(2265);let n=0,a=new Map,o=e=>{if(a.has(e))return;let r=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,r)},i=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?o(t):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},c=[],l={toasts:[]};function d(e){l=i(l,e),c.forEach(e=>{e(l)})}function u(e){let{...r}=e,t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,r]=s.useState(l);return s.useEffect(()=>(c.push(r),()=>{let e=c.indexOf(r);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},6763:function(e,r,t){"use strict";t.d(r,{OQ:function(){return n},dx:function(){return o},z6:function(){return a}});var s=t(4566);let n=(0,s.eI)("https://xuqkgeusasosxtcfhbwj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh1cWtnZXVzYXNvc3h0Y2ZoYndqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYzMDg1OTUsImV4cCI6MjA1MTg4NDU5NX0.HF4gYNKUEct3xetUJ3NwB1pxgBGBSE2V6CY20iF1Ivs",{auth:{autoRefreshToken:!0,persistSession:!0,storage:{getItem:e=>{try{let r=window.localStorage.getItem(e);return r}catch(e){return console.error("Error reading session:",e),null}},setItem:(e,r)=>{try{window.localStorage.setItem(e,r)}catch(e){console.error("Error storing session:",e)}},removeItem:e=>{try{window.localStorage.removeItem(e)}catch(e){console.error("Error removing session:",e)}}}},db:{schema:"public"}}),a=async()=>{try{let{data:{session:e},error:r}=await n.auth.getSession();if(r)throw r;if(null==e?void 0:e.expires_at){let r=new Date(1e3*e.expires_at),t=new Date;return r>t}return!1}catch(e){return console.error("Error checking session:",e),!1}},o=async()=>{try{let{data:{session:e},error:r}=await n.auth.getSession();if(r)throw r;if(e){let r=new Date(1e3*e.expires_at),t=new Date;if(r.getTime()-t.getTime()<3e5){let{data:{session:e},error:r}=await n.auth.refreshSession();if(r)throw r;return e}return e}return null}catch(e){return console.error("Error refreshing session:",e),null}}},9311:function(e,r,t){"use strict";t.d(r,{cn:function(){return a},f:function(){return i},z:function(){return o}});var s=t(7042),n=t(4769);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.m6)((0,s.W)(r))}function o(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}let i={info:function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return console.log("[INFO]",...r)},error:function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return console.error("[ERROR]",...r)},warn:function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return console.warn("[WARN]",...r)}}}},function(e){e.O(0,[586,892,233,971,864,744],function(){return e(e.s=7009)}),_N_E=e.O()}]);