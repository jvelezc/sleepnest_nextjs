(()=>{var e={};e.id=702,e.ids=[702],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},5769:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>m,routeModule:()=>h,tree:()=>c});var a=s(3137),r=s(4647),i=s(4183),n=s.n(i),l=s(1775),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=a.AppPageRouteModule,c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8156)),"C:\\Users\\josej\\Downloads\\project-bolt-bolt-nextjs-shadcn-2hqv8hqk (3)\\project\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,4436)),"C:\\Users\\josej\\Downloads\\project-bolt-bolt-nextjs-shadcn-2hqv8hqk (3)\\project\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,3253)),"C:\\Users\\josej\\Downloads\\project-bolt-bolt-nextjs-shadcn-2hqv8hqk (3)\\project\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,1918,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Users\\josej\\Downloads\\project-bolt-bolt-nextjs-shadcn-2hqv8hqk (3)\\project\\app\\dashboard\\page.tsx"],x="/dashboard/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new d({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9367:(e,t,s)=>{Promise.resolve().then(s.bind(s,5917))},5734:(e,t,s)=>{Promise.resolve().then(s.bind(s,6709))},5917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(80),r=s(9885),i=s(7114),n=s(9965),l=s(6995),o=s(1672),d=s(5987),c=s(279),m=s(4904),x=s(92),u=s(1072),h=s(8384);function p({children:e}){let t=(0,i.useRouter)(),s=(0,i.usePathname)(),{user:p,signOut:f}=(0,n.a)(),{theme:j,setTheme:g}=(0,u.useTheme)();if((0,r.useEffect)(()=>{p||t.replace("/login/specialist")},[p,t]),!p)return null;let v=async()=>{await f(),t.replace("/")};return(0,a.jsxs)("div",{className:"min-h-screen bg-background flex",children:[(0,a.jsxs)("div",{className:"w-64 bg-card border-r flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b",children:[a.jsx("div",{className:"font-medium text-lg text-foreground",children:p.email}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Specialist"}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Last login: ",new Date().toLocaleDateString()]})]}),a.jsx("nav",{className:"flex-1 p-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(h.z,{variant:"/dashboard"===s?"secondary":"ghost",className:"w-full justify-start",onClick:()=>t.push("/dashboard"),children:[a.jsx(l.Z,{className:"mr-2 h-4 w-4"}),"Home"]}),(0,a.jsxs)(h.z,{variant:"/dashboard/clients"===s?"secondary":"ghost",className:"w-full justify-start",onClick:()=>t.push("/dashboard/clients"),children:[a.jsx(o.Z,{className:"mr-2 h-4 w-4"}),"Clients"]}),(0,a.jsxs)(h.z,{variant:"/dashboard/settings"===s?"secondary":"ghost",className:"w-full justify-start",onClick:()=>t.push("/dashboard/settings"),children:[a.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"Settings"]})]})}),(0,a.jsxs)("div",{className:"p-4 border-t space-y-4",children:[(0,a.jsxs)(h.z,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>g("light"===j?"dark":"light"),children:["light"===j?a.jsx(c.Z,{className:"mr-2 h-4 w-4"}):a.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Switch to ","light"===j?"Dark":"Light"," Mode"]}),(0,a.jsxs)(h.z,{variant:"ghost",size:"sm",className:"w-full justify-start text-destructive hover:text-destructive",onClick:v,children:[a.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:e})]})}},6709:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>G});var a=s(80),r=s(1672),i=s(9885),n=s(6558),l=s(3894),o=s(9098),d=s(9490),c=s(6206),m=s(8384),x=s(7673),u=s(3161);let h=x.fC,p=x.xz,f=x.h_;x.x8;let j=i.forwardRef(({className:e,...t},s)=>a.jsx(x.aV,{ref:s,className:(0,u.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));j.displayName=x.aV.displayName;let g=i.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(f,{children:[a.jsx(j,{}),(0,a.jsxs)(x.VY,{ref:r,className:(0,u.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,a.jsxs)(x.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(c.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));g.displayName=x.VY.displayName;let v=({className:e,...t})=>a.jsx("div",{className:(0,u.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});v.displayName="DialogHeader";let y=({className:e,...t})=>a.jsx("div",{className:(0,u.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});y.displayName="DialogFooter";let N=i.forwardRef(({className:e,...t},s)=>a.jsx(x.Dx,{ref:s,className:(0,u.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));N.displayName=x.Dx.displayName;let b=i.forwardRef(({className:e,...t},s)=>a.jsx(x.dk,{ref:s,className:(0,u.cn)("text-sm text-muted-foreground",e),...t}));b.displayName=x.dk.displayName;var w=s(6392);let k=w.fC;w.xz;let q=w.h_,C=i.forwardRef(({className:e,...t},s)=>a.jsx(w.aV,{className:(0,u.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));C.displayName=w.aV.displayName;let z=i.forwardRef(({className:e,...t},s)=>(0,a.jsxs)(q,{children:[a.jsx(C,{}),a.jsx(w.VY,{ref:s,className:(0,u.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));z.displayName=w.VY.displayName;let I=({className:e,...t})=>a.jsx("div",{className:(0,u.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});I.displayName="AlertDialogHeader";let _=({className:e,...t})=>a.jsx("div",{className:(0,u.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_.displayName="AlertDialogFooter";let S=i.forwardRef(({className:e,...t},s)=>a.jsx(w.Dx,{ref:s,className:(0,u.cn)("text-lg font-semibold",e),...t}));S.displayName=w.Dx.displayName;let D=i.forwardRef(({className:e,...t},s)=>a.jsx(w.dk,{ref:s,className:(0,u.cn)("text-sm text-muted-foreground",e),...t}));D.displayName=w.dk.displayName;let P=i.forwardRef(({className:e,...t},s)=>a.jsx(w.aU,{ref:s,className:(0,u.cn)((0,m.d)(),e),...t}));P.displayName=w.aU.displayName;let Z=i.forwardRef(({className:e,...t},s)=>a.jsx(w.$j,{ref:s,className:(0,u.cn)((0,m.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Z.displayName=w.$j.displayName;var R=s(806),A=s(9424),E=s(7502),U=s(7988),Y=s(9965);let M=o.Ry({name:o.Z_().min(2,"Name must be at least 2 characters"),email:o.Z_().email("Please enter a valid email address")});function V(){let[e,t]=(0,i.useState)(!1),[s,r]=(0,i.useState)(!1),[o,x]=(0,i.useState)(!1),[u,f]=(0,i.useState)(null),{toast:j}=(0,E.pm)(),{user:w}=(0,Y.a)(),q=(0,n.cI)({resolver:(0,l.F)(M),defaultValues:{name:"",email:""}}),C=e=>{e||(q.reset(),f(null),x(!1)),t(e)},V=async(e,t)=>{let s=await fetch("https://xuqkgeusasosxtcfhbwj.supabase.co/functions/v1/invite_caregiver",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh1cWtnZXVzYXNvc3h0Y2ZoYndqIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczNjMwODU5NSwiZXhwIjoyMDUxODg0NTk1fQ.mDgADwthCJGMesU6F6-ui9XfLw7DGoA06k66mGEAGKU"},body:JSON.stringify({to:t.email,name:t.name,specialist_name:w?.email,invitation_id:e})});if(!s.ok){let e=await s.json();throw Error(e.message||"Failed to send invitation email")}return s.json()},G=async(e,a=!1)=>{if(!s){r(!0);try{let{data:s,error:i}=await U.OQ.rpc("invite_caregiver",{caregiver_email:e.email,caregiver_name:e.name,resend:a});if(i){if(i.message.includes("already been sent")&&!a){f(e),x(!0),r(!1);return}throw i}if(!s)throw Error("Failed to create invitation");await V(s,e),j({title:a?"Invitation Resent":"Invitation Sent",description:`Successfully ${a?"resent":"sent"} invitation to ${e.email}`}),x(!1),f(null),q.reset(),t(!1)}catch(t){console.error("Invitation error:",t);let e="Failed to send invitation";t instanceof Error&&(e=t.message.includes("Invalid JWT")?"Authentication error. Please try again or contact support.":t.message.includes("already been sent")?"An invitation has already been sent to this email.":t.message),j({variant:"destructive",title:"Error",description:e})}finally{r(!1)}}},J=async e=>{await G(e)};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(k,{open:o,onOpenChange:e=>{e||(x(!1),f(null))},children:(0,a.jsxs)(z,{children:[(0,a.jsxs)(I,{children:[a.jsx(S,{children:"Resend Invitation?"}),a.jsx(D,{children:"An invitation has already been sent to this email. Would you like to resend it?"})]}),(0,a.jsxs)(_,{children:[a.jsx(Z,{children:"Cancel"}),a.jsx(P,{onClick:async()=>{u&&await G(u,!0)},children:"Yes, Resend"})]})]})}),(0,a.jsxs)(h,{open:e,onOpenChange:C,children:[a.jsx(p,{asChild:!0,children:(0,a.jsxs)(m.z,{children:[a.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"Invite Caregiver"]})}),(0,a.jsxs)(g,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(v,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx(N,{children:"Invite Caregiver"}),a.jsx(m.z,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-muted",onClick:()=>C(!1),children:a.jsx(c.Z,{className:"h-4 w-4"})})]}),a.jsx(b,{children:"Send an invitation to a caregiver to join your practice."})]}),a.jsx(R.l0,{...q,children:(0,a.jsxs)("form",{onSubmit:q.handleSubmit(J),className:"space-y-4",children:[a.jsx(R.Wi,{control:q.control,name:"name",render:({field:e})=>(0,a.jsxs)(R.xJ,{children:[a.jsx(R.lX,{children:"Caregiver's Name"}),a.jsx(R.NI,{children:a.jsx(A.I,{placeholder:"Enter name",...e})}),a.jsx(R.zG,{})]})}),a.jsx(R.Wi,{control:q.control,name:"email",render:({field:e})=>(0,a.jsxs)(R.xJ,{children:[a.jsx(R.lX,{children:"Caregiver's Email"}),a.jsx(R.NI,{children:a.jsx(A.I,{type:"email",placeholder:"Enter email",...e})}),a.jsx(R.zG,{})]})}),a.jsx("div",{className:"bg-muted/50 rounded-lg p-4",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"An invitation email will be sent to the caregiver with instructions to create their account."})}),(0,a.jsxs)(y,{children:[a.jsx(m.z,{type:"button",variant:"outline",onClick:()=>C(!1),disabled:s,children:"Cancel"}),a.jsx(m.z,{type:"submit",disabled:s,children:s?"Sending...":"Send Invitation"})]})]})})]})]})]})}function G(){return(0,a.jsxs)("div",{className:"flex-1 p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Sleep Specialist Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your clients and track their progress"})]}),a.jsx(V,{})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Your Caregivers"}),a.jsx("div",{className:"rounded-lg border bg-card p-8",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:a.jsx(r.Z,{className:"h-6 w-6 text-primary"})}),a.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Welcome to Your Dashboard"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2 max-w-sm",children:"You haven't added any caregivers yet. Start growing your practice by inviting your first caregiver."}),a.jsx(V,{})]})})]})]})}},4436:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var a=s(7536);let r=(0,a.createProxy)(String.raw`C:\Users\josej\Downloads\project-bolt-bolt-nextjs-shadcn-2hqv8hqk (3)\project\app\dashboard\layout.tsx`),{__esModule:i,$$typeof:n}=r,l=r.default,o=l},8156:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var a=s(7536);let r=(0,a.createProxy)(String.raw`C:\Users\josej\Downloads\project-bolt-bolt-nextjs-shadcn-2hqv8hqk (3)\project\app\dashboard\page.tsx`),{__esModule:i,$$typeof:n}=r,l=r.default,o=l}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[671,725,672,715,663,627,211,806,965],()=>s(5769));module.exports=a})();